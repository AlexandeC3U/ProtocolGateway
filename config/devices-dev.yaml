# Development Device Configurations
# Uses the Modbus simulator for testing

version: "1.0"

devices:
  # Test device using Modbus simulator
  - id: modbus-simulator-001
    name: Test Modbus Simulator
    description: Local Modbus simulator for development testing
    protocol: modbus-tcp
    enabled: true
    uns_prefix: dev/simulator/plc001
    poll_interval: 5s  # Poll every 5 seconds to reduce CPU load
    
    connection:
      host: modbus-simulator
      port: 5020
      slave_id: 1
      timeout: 5s
      retry_count: 3
      retry_delay: 100ms
    
    tags:
      # Test holding registers
      - id: test_register_1
        name: Test Register 1
        description: Test holding register 0
        address: 0
        register_type: holding_register
        data_type: uint16
        byte_order: big_endian
        register_count: 1
        scale_factor: 1.0
        offset: 0
        unit: units
        topic_suffix: test/register1
        poll_interval: 1s
        enabled: true
        access_mode: readwrite  # Enable read and write

      - id: test_register_2
        name: Test Register 2
        description: Test holding register 1
        address: 1
        register_type: holding_register
        data_type: uint16
        byte_order: big_endian
        register_count: 1
        scale_factor: 0.1
        offset: 0
        unit: units
        topic_suffix: test/register2
        poll_interval: 1s
        enabled: true
        access_mode: readwrite  # Enable read and write

      - id: test_float
        name: Test Float Value
        description: Test 32-bit float value
        address: 10
        register_type: holding_register
        data_type: float32
        byte_order: big_endian
        register_count: 2
        scale_factor: 1.0
        offset: 0
        unit: "Â°C"
        topic_suffix: test/float
        poll_interval: 2s
        enabled: true
        access_mode: readwrite  # Enable read and write

      # Test coils (always writable in Modbus)
      - id: test_coil_1
        name: Test Coil 1
        description: Test coil 0
        address: 0
        register_type: coil
        data_type: bool
        register_count: 1
        topic_suffix: test/coil1
        poll_interval: 1s
        enabled: true
        access_mode: readwrite  # Enable read and write

      - id: test_coil_2
        name: Test Coil 2
        description: Test coil 1
        address: 1
        register_type: coil
        data_type: bool
        register_count: 1
        topic_suffix: test/coil2
        poll_interval: 1s
        enabled: true
        access_mode: readwrite  # Enable read and write

      # Test input registers
      - id: test_input_1
        name: Test Input Register 1
        description: Test input register 0
        address: 0
        register_type: input_register
        data_type: uint16
        byte_order: big_endian
        register_count: 1
        scale_factor: 1.0
        offset: 0
        unit: units
        topic_suffix: test/input1
        poll_interval: 1s
        enabled: true

  # Test device using OPC UA simulator
  - id: opcua-simulator-001
    name: Test OPC UA Simulator
    description: Local OPC UA simulator for development testing
    protocol: opcua
    enabled: true
    uns_prefix: dev/simulator/opcua001
    poll_interval: 2s

    connection:
      host: opcua-simulator
      port: 4840
      timeout: 5s
      retry_count: 3
      retry_delay: 100ms

      opc_security_policy: None
      opc_security_mode: None
      opc_auth_mode: Anonymous

    tags:
      - id: temperature
        name: Temperature
        description: Demo temperature (float)
        data_type: float64
        opc_node_id: "ns=2;s=Demo.Temperature"
        topic_suffix: temperature
        poll_interval: 500ms
        enabled: true
        access_mode: readwrite

      - id: pressure
        name: Pressure
        description: Demo pressure (float)
        data_type: float64
        opc_node_id: "ns=2;s=Demo.Pressure"
        topic_suffix: pressure
        poll_interval: 500ms
        enabled: true
        access_mode: readwrite

      - id: status
        name: Status
        description: Demo status string
        data_type: string
        opc_node_id: "ns=2;s=Demo.Status"
        topic_suffix: status
        poll_interval: 1s
        enabled: true
        access_mode: readwrite

      - id: switch
        name: Switch
        description: Demo writable boolean
        data_type: bool
        opc_node_id: "ns=2;s=Demo.Switch"
        topic_suffix: switch
        poll_interval: 1s
        enabled: true
        access_mode: readwrite

