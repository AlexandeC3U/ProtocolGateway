# Protocol Gateway Configuration
# This file contains all service configuration.
# Environment variables can override these values with GATEWAY_ prefix.

environment: development

# Path to device configurations
devices_config_path: ./config/devices.yaml

# HTTP Server Configuration
http:
  port: 8080
  read_timeout: 10s
  write_timeout: 10s
  idle_timeout: 60s

# MQTT Configuration
mqtt:
  broker_url: tcp://localhost:1883
  client_id: protocol-gateway
  username: ""
  password: ""
  clean_session: true
  qos: 1
  keep_alive: 30s
  connect_timeout: 10s
  reconnect_delay: 5s
  max_reconnect: -1  # Unlimited
  buffer_size: 10000
  tls_enabled: false
  # tls_cert_file: /path/to/cert.pem
  # tls_key_file: /path/to/key.pem
  # tls_ca_file: /path/to/ca.pem

# Modbus Connection Pool
modbus:
  max_connections: 100
  idle_timeout: 5m
  health_check_period: 30s
  connection_timeout: 10s
  retry_attempts: 3
  retry_delay: 100ms

# OPC UA Connection Pool
opcua:
  max_connections: 50
  idle_timeout: 5m
  health_check_period: 30s
  connection_timeout: 15s
  retry_attempts: 3
  retry_delay: 500ms
  default_security_policy: None
  default_security_mode: None
  default_auth_mode: Anonymous

# S7 Connection Pool
s7:
  max_connections: 100
  idle_timeout: 5m
  health_check_period: 30s
  connection_timeout: 10s
  retry_attempts: 3
  retry_delay: 500ms

# Polling Service Configuration
polling:
  worker_count: 10
  batch_size: 50
  default_interval: 1s
  max_retries: 3
  shutdown_timeout: 30s

# Logging Configuration
logging:
  level: info        # trace, debug, info, warn, error
  format: json       # json or console
  output: stdout     # stdout, stderr, or file path
  time_format: "2006-01-02T15:04:05.999999999Z07:00"
